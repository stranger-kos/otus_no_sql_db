## MSSQL 

MSSQL представляет собой систему с одним лидером, у которой может быть несколько нод, которые синхронизируются в асинхронном режиме. Операции чтение/записи выполняются на лидере, после чего происходит синхронизация нод, относительно лидера ("зеркальное отражение").

По умолчанию MSSQL относится к CA-системам (по классификации относительно CAP-теоремы), по следующим причинам:
* При разнесение нод на изолированные секции, увеличивается время отлика от разнесенных нод, и система оказывается неработоспособной.
* Репликация данных происходит всегда от лидера к ноде, в итоге ноды не равнозначны и имеют заивисимость от лидера.

## MongoDb

MongoDb представляет собой системы с одним лидером, у которого может быть несколько нод, которые синхронизируются в асинхронном режиме. Все ноды поддерживают механизм heartbeat, при помощи которого получают информацию о состоянии других реплик. Если лидер становится не доступным, одна из реплик выбирается в качестве лидера.

По умолчанию MongoDb относится к CP-системам (по классификации относительно CAP-теоремы), по следующим причинам:
* Когда лидер выпадает из кластера, происходит выбор нового лидера, который может занимать несколько секунд. В итоге кластер становится не доступным для чтения/записи.
* Когда лидер теряет соединение с большим количеством остальных нод, система также становится недоступна, пока не будет выбран новый лидер.


## Cassandra

Cassandra представляет собой систему, в которой любая координирующая нода может обрабатывать запросы на чтение/запись к соответствующим репликам на основе значения ключа раздела. Следовательно, если одна из нод падает, другие ноды могут выполнять запросы на чтение/запись. В итоге системы доступна всегда.

По умолчанию система относится к AP-системам (по классификации относительно CAP-теоремы), по следующей причине:
* Когда направляется запрос на запись данных к любой ноде, возвращается успешный ответ о выполнении операции, когда данные будут записаны. После этого происходит сохранение данных в остальные ноды. При обновлении данных могут возникать различного рода причины (задержка передачи данных, потеря запроса на обновления данных из-за проблем в сети), которые приводят ноду в не консистентное состояние. 

## Классификация БД по  CAP-теореме

| Database     | Consistency | Availability | Partition Tolerance |
|--------------|-------------|--------------|---------------------|
| MSSQL        |     Yes     |     Yes      |        No           |
| MongoDb      |     Yes     |     No       |        Yes          |
| Cassandra    |     No      |     Yes      |        Yes          | 
